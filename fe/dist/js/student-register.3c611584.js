(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["student-register"],{"78e0":function(t,e,a){"use strict";a.r(e);var r=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("div",{staticClass:"hero"},[a("div",{staticClass:"d-flex justify-content-center align-items-center h-100"},[a("div",{staticClass:"col-10 col-sm-10 col-md-6 col-lg-5 col-xl-4"},[a("div",{staticClass:"card p-5"},[a("h4",{staticClass:"mb-2 mt-2"},[t._v("Register")]),t._m(0),1===t.step?a("div",[t._m(1),a("div",{staticClass:"form-floating mb-3"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.data.email,expression:"data.email"}],staticClass:"form-control",attrs:{type:"email",id:"floatingInput",placeholder:"name@example.com",autocomplete:"off"},domProps:{value:t.data.email},on:{input:function(e){e.target.composing||t.$set(t.data,"email",e.target.value)}}}),a("label",{attrs:{for:"floatingInput"}},[t._v("Email address")])]),a("div",{staticClass:"form-floating"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.data.password,expression:"data.password"}],staticClass:"form-control mb-3",attrs:{type:"password",id:"floatingPassword",placeholder:"Password"},domProps:{value:t.data.password},on:{input:function(e){e.target.composing||t.$set(t.data,"password",e.target.value)}}}),a("label",{attrs:{for:"floatingPassword"}},[t._v("Password")])]),a("div",{staticClass:"form-floating"},[a("select",{directives:[{name:"model",rawName:"v-model",value:t.data.type,expression:"data.type"}],staticClass:"form-select",on:{change:function(e){var a=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.$set(t.data,"type",e.target.multiple?a:a[0])}}},[a("option",{attrs:{disabled:"",value:""},domProps:{textContent:t._s(t.disabledOption4)}}),a("option",{attrs:{value:"admin"}},[t._v("Org-Admin")]),a("option",{attrs:{value:"student"}},[t._v("Org-Member")])]),a("label",[t._v("Account Type")])]),a("div",{staticClass:"d-flex justify-content-center mt-4"},[a("button",{staticClass:"btn btn-primary px-4 me-3",attrs:{href:""},on:{click:t.returnLogin}},[t._v(" Return ")]),a("button",{staticClass:"btn btn-success px-4",attrs:{href:"",disabled:t.isLoading},on:{click:t.step1}},[t._v(" Next ")])])]):t._e(),2===t.step?a("div",[t._m(2),a("div",{staticClass:"form-floating mb-3"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.data.first_name,expression:"data.first_name"}],staticClass:"form-control",attrs:{type:"text",id:"floatingInput",placeholder:"name@example.com",autocomplete:"off"},domProps:{value:t.data.first_name},on:{input:function(e){e.target.composing||t.$set(t.data,"first_name",e.target.value)}}}),a("label",{attrs:{for:"floatingInput"}},[t._v("First Name")])]),a("div",{staticClass:"form-floating mb-3"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.data.middle_name,expression:"data.middle_name"}],staticClass:"form-control",attrs:{type:"text",id:"floatingInput",placeholder:"name@example.com",autocomplete:"off"},domProps:{value:t.data.middle_name},on:{input:function(e){e.target.composing||t.$set(t.data,"middle_name",e.target.value)}}}),a("label",{attrs:{for:"floatingInput"}},[t._v("Middle Name (Optional)")])]),a("div",{staticClass:"form-floating mb-3"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.data.last_name,expression:"data.last_name"}],staticClass:"form-control",attrs:{type:"text",id:"floatingInput",placeholder:"name@example.com",autocomplete:"off"},domProps:{value:t.data.last_name},on:{input:function(e){e.target.composing||t.$set(t.data,"last_name",e.target.value)}}}),a("label",{attrs:{for:"floatingInput"}},[t._v("Last Name")])]),a("div",{staticClass:"d-flex justify-content-center mt-4"},[a("button",{staticClass:"btn btn-primary px-2 me-3",attrs:{href:""},on:{click:t.prev}},[t._v(" Previous ")]),a("button",{staticClass:"btn btn-success px-4",attrs:{href:""},on:{click:t.step2}},[t._v(" Next ")])])]):t._e(),3===t.step?a("div",[t._m(3),a("div",{staticClass:"form-floating mb-3"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.data.age,expression:"data.age"}],staticClass:"form-control",attrs:{type:"number",id:"floatingInput",placeholder:"name@example.com",autocomplete:"off",disabled:""},domProps:{value:t.data.age},on:{input:function(e){e.target.composing||t.$set(t.data,"age",e.target.value)}}}),a("label",{attrs:{for:"floatingInput"}},[t._v("Age")])]),a("div",{staticClass:"form-floating mb-3"},[a("date-picker",{staticClass:"w-100",attrs:{"value-type":"format",format:"YYYY-MM-DD",placeholder:"Select Date",autocomplete:"off"},model:{value:t.data.birthday,callback:function(e){t.$set(t.data,"birthday",e)},expression:"data.birthday"}})],1),a("div",{staticClass:"form-floating mb-3"},[a("select",{directives:[{name:"model",rawName:"v-model",value:t.data.gender,expression:"data.gender"}],staticClass:"form-select",on:{change:function(e){var a=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.$set(t.data,"gender",e.target.multiple?a:a[0])}}},[a("option",{attrs:{disabled:"",value:""},domProps:{textContent:t._s(t.disabledOption)}}),a("option",{attrs:{value:"Male"}},[t._v("Male")]),a("option",{attrs:{value:"Female"}},[t._v("Female")]),a("option",{attrs:{value:"Prefer not to say"}},[t._v("Prefer not to say")])]),a("label",[t._v("Gender")])]),a("div",{staticClass:"form-floating mb-3"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.data.contact,expression:"data.contact"}],staticClass:"form-control",attrs:{type:"number",id:"floatingInput",placeholder:"name@example.com",autocomplete:"off"},domProps:{value:t.data.contact},on:{input:function(e){e.target.composing||t.$set(t.data,"contact",e.target.value)}}}),a("label",{attrs:{for:"floatingInput"}},[t._v("Contact")])]),a("div",{staticClass:"d-flex justify-content-center mt-4"},[a("button",{staticClass:"btn btn-primary px-2 me-3",attrs:{href:""},on:{click:t.prev}},[t._v(" Previous ")]),a("button",{staticClass:"btn btn-success px-4",attrs:{href:""},on:{click:t.step3}},[t._v(" Next ")])])]):t._e(),4===t.step?a("div",[t._m(4),a("div",{staticClass:"form-floating mb-3"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.data.student_id,expression:"data.student_id"}],staticClass:"form-control",attrs:{type:"text",id:"floatingInput",placeholder:"name@example.com",autocomplete:"off"},domProps:{value:t.data.student_id},on:{input:function(e){e.target.composing||t.$set(t.data,"student_id",e.target.value)}}}),a("label",{attrs:{for:"floatingInput"}},[t._v("Student Number")])]),a("div",{staticClass:"form-floating mb-3"},[a("select",{directives:[{name:"model",rawName:"v-model",value:t.data.year_level,expression:"data.year_level"}],staticClass:"form-select",on:{change:function(e){var a=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.$set(t.data,"year_level",e.target.multiple?a:a[0])}}},[a("option",{attrs:{disabled:"",value:""},domProps:{textContent:t._s(t.disabledOption1)}}),a("option",{attrs:{value:"I"}},[t._v("Year Level - I")]),a("option",{attrs:{value:"II"}},[t._v("Year Level - II")]),a("option",{attrs:{value:"III"}},[t._v("Year Level - III")]),a("option",{attrs:{value:"IV"}},[t._v("Year Level - IV")])]),a("label",[t._v("Year Level")])]),a("div",{staticClass:"form-floating mb-3"},[a("select",{directives:[{name:"model",rawName:"v-model",value:t.data.section,expression:"data.section"}],staticClass:"form-select",on:{change:function(e){var a=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.$set(t.data,"section",e.target.multiple?a:a[0])}}},[a("option",{attrs:{disabled:"",value:""},domProps:{textContent:t._s(t.disabledOption2)}}),t._l(t.filteredSection,(function(e,r){return a("option",{key:r,domProps:{value:e.id}},[t._v(t._s(e.section))])}))],2),a("label",[t._v("Section")])]),a("div",{staticClass:"form-floating mb-3"},[a("select",{directives:[{name:"model",rawName:"v-model",value:t.data.organization,expression:"data.organization"}],staticClass:"form-select",on:{change:function(e){var a=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.$set(t.data,"organization",e.target.multiple?a:a[0])}}},[a("option",{attrs:{disabled:"",value:""},domProps:{textContent:t._s(t.disabledOption3)}}),t._l(t.allorganizations,(function(e,r){return a("option",{key:r,domProps:{value:e.id}},[t._v(t._s(e.organization)+" - "),a("span",{staticClass:"text-muted"},[t._v(t._s(e.abbreviation))])])}))],2),a("label",[t._v("Organization")])]),a("div",{staticClass:"d-flex justify-content-center mt-4"},[a("button",{staticClass:"btn btn-primary px-2 me-3",attrs:{href:""},on:{click:t.prev}},[t._v(" Previous ")]),a("button",{staticClass:"btn btn-success px-2",attrs:{href:"",disabled:t.isLoading},on:{click:t.register}},[t._v(" Register ")])])]):t._e()])])])])])},s=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("p",{staticClass:"mb-4"},[a("small",[t._v("Hi, please fill in all forms to sign-up.")])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("h6",{staticClass:"mb-3"},[a("small",[t._v("Step 1: Your Login Credentials")])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("h6",{staticClass:"mb-3"},[a("small",[t._v("Step 2: Your Information")])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("h6",{staticClass:"mb-3"},[a("small",[t._v("Step 3: Tell us more about yourself")])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("h6",{staticClass:"mb-3"},[a("small",[t._v("Final Step: Your Education")])])}],n=a("5530"),i=a("1da1"),o=(a("4de4"),a("96cf"),a("2f62")),l={data:function(){return{step:1,data:{email:"",password:"",first_name:"",middle_name:"",last_name:"",age:"",birthday:"",gender:"",contact:"",year_level:"",student_id:"",section:"",organization:"",type:""},isLoading:!1}},props:{disabledOption:{type:String,default:"Select your gender"},disabledOption1:{type:String,default:"Select year level"},disabledOption2:{type:String,default:"Select section"},disabledOption3:{type:String,default:"Select organization"},disabledOption4:{type:String,default:"Select account type"}},mounted:function(){var t=this;return Object(i["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return document.title="Please Login",e.next=3,t.$store.dispatch("sections/allSections");case 3:return e.next=5,t.$store.dispatch("organizations/allOrganizations");case 5:case"end":return e.stop()}}),e)})))()},computed:Object(n["a"])(Object(n["a"])(Object(n["a"])({},Object(o["c"])("sections",["allsections"])),Object(o["c"])("organizations",["allorganizations"])),{},{filteredSection:function(){var t=this;return this.allsections.filter((function(e){return e.year_level===t.data.year_level}))}}),methods:Object(n["a"])(Object(n["a"])({},Object(o["b"])("auth",["createAccount","emailValidate"])),{},{disabledDate:function(t){var e=new Date;return e.setHours(0,0,0,0),t>=new Date("2002-01-01")},step1:function(){var t=this;return Object(i["a"])(regeneratorRuntime.mark((function e(){var a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(""!=t.data.email){e.next=2;break}return e.abrupt("return",t.$toast.error("Email is required"));case 2:if(""!=t.data.password){e.next=4;break}return e.abrupt("return",t.$toast.error("Password is required"));case 4:if(0!=t.data.type){e.next=6;break}return e.abrupt("return",t.$toast.error("Account Type is required"));case 6:return t.isLoading=!0,e.next=9,t.emailValidate(t.data);case 9:a=e.sent,200==a.status?(t.$toast.success("Email is valid"),t.isLoading=!1):(t.$toast.error("Email is invalid"),t.isLoading=!1),t.step++;case 12:case"end":return e.stop()}}),e)})))()},step2:function(){return""==this.data.first_name?this.$toast.error("First name is required"):""==this.data.last_name?this.$toast.error("Last name is required"):void this.step++},step3:function(){return""==this.data.age?this.$toast.error("Age is required"):""==this.data.birthday?this.$toast.error("Birthday is required"):0==this.data.gender?this.$toast.error("Gender is required"):""==this.data.contact?this.$toast.error("Contact is required"):void this.step++},register:function(){var t=this;return Object(i["a"])(regeneratorRuntime.mark((function e(){var a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(""!=t.data.student_id){e.next=2;break}return e.abrupt("return",t.$toast.error("Student ID is required"));case 2:if(0!=t.data.year_level){e.next=4;break}return e.abrupt("return",t.$toast.error("Year level is required"));case 4:if(0!=t.data.section){e.next=6;break}return e.abrupt("return",t.$toast.error("Section is required"));case 6:if(0!=t.data.organization){e.next=8;break}return e.abrupt("return",t.$toast.error("Organization is required"));case 8:return t.isLoading=!0,e.next=11,t.createAccount(t.data);case 11:a=e.sent,200==a.status?(t.$router.push("/"),t.$toast.success("Account created successfully!")):t.showError(a.data);case 13:case"end":return e.stop()}}),e)})))()},prev:function(){this.step--},returnLogin:function(){this.$router.push("/")}}),watch:{"data.birthday":function(){if(""==this.data.birthday||null==this.data.birthday)return this.data.age="";var t=new Date(this.data.birthday),e=new Date,a=Math.abs(t.getTime()-e.getTime()),r=Math.ceil(a/31536e6);this.data.age=r-1}}},c=l,d=(a("9cdd"),a("2877")),u=Object(d["a"])(c,r,s,!1,null,"48236ae0",null);e["default"]=u.exports},"9cdd":function(t,e,a){"use strict";a("b692")},b692:function(t,e,a){}}]);
//# sourceMappingURL=student-register.3c611584.js.map